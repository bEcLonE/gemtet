<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>H√†nh Tr√¨nh L√¨ X√¨ Gi·∫•c M∆°</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;}

body{
    margin:0;
    font-family:"Inter", sans-serif;
    background:linear-gradient(135deg,#1f2937,#111827);
    color:#e5e7eb;
}

/* SCREEN */
.screen{
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:40px 20px;
    animation:fadeIn 0.8s ease;
}

/* CARD */
.card{
    background:#1f2937;
    padding:60px;
    max-width:1000px;
    width:100%;
    border-radius:20px;
    box-shadow:0 25px 70px rgba(0,0,0,0.55);
    border:1px solid #374151;
    position:relative;
    overflow:hidden;
}


/* INTRO STYLE */
.intro-title{
    font-size:42px;
    font-weight:700;
    margin-bottom:25px;
    color:#f9fafb;
}

.story{
    font-size:18px;
    line-height:1.8;
    color:#d1d5db;
    text-align:left;
    margin-bottom:30px;
}

/* GAME TEXT */
h2{
    font-size:34px;
    margin-bottom:10px;
}

.region-name{
    font-size:22px;
    font-weight:600;
    color:#a5b4fc;
    margin-bottom:10px;
}

.region-story{
    font-size:17px;
    color:#d1d5db;
    margin-bottom:20px;
}

/* BUTTON */
button{
    background:#6366f1;
    color:white;
    border:none;
    padding:14px 24px;
    margin:10px;
    border-radius:10px;
    font-size:17px;
    font-weight:600;
    cursor:pointer;
    transition:0.25s;
}

button:hover{
    background:#4f46e5;
    transform:translateY(-2px);
}

/* SYMBOLS */
.symbols{
    margin-top:15px;
}

.symbols span{
    font-size:36px;
    margin:6px;
    display:inline-block;
    animation:pop 0.35s;
}

/* LIXI GATES */
.lixi{
    display:inline-block;
    background:#374151;
    color:#f9fafb;
    padding:18px 22px;
    margin:10px;
    border-radius:12px;
    cursor:pointer;
    font-weight:bold;
    font-size:22px;
    transition:0.25s;
    border:1px solid #4b5563;
}

.lixi:hover{
    background:#4b5563;
    transform:scale(1.05);
}

.hidden{ display:none; }

@keyframes fadeIn{
    from{opacity:0; transform:translateY(20px);}
    to{opacity:1; transform:translateY(0);}
}

@keyframes pop{
    from{transform:scale(0);}
    to{transform:scale(1);}
}
/* GRID 3x3 */
#gates{
    display:grid;
    grid-template-columns:repeat(3, 1fr);
    gap:35px;
    justify-items:center;
    margin-top:40px;
}

/* L√å X√å */
.lixi{
    width:200px;
    height:230px;
    background:linear-gradient(160deg,#ef4444,#b91c1c);
    border-radius:16px;
    position:relative;
    cursor:pointer;
    transition:0.25s;
    box-shadow:0 15px 35px rgba(0,0,0,0.5);
    display:flex;
    align-items:center;
    justify-content:center;   /* cƒÉn gi·ªØa n·ªôi dung */
    border:2px solid rgba(255,255,255,0.15);
}

/* n·∫Øp bao */
.lixi::before{
    content:"";
    position:absolute;
    top:0;
    left:0;
    right:0;
    height:45px;
    background:rgba(0,0,0,0.18);
    border-top-left-radius:16px;
    border-top-right-radius:16px;
}

/* hover */
.lixi:hover{
    transform:translateY(-8px) scale(1.05);
}


/* s·ªë c·ªïng */
.gate-number{
    position:absolute;
    top:10px;
    width:100%;
    text-align:center;
    font-size:18px;
    font-weight:700;
    color:#fde68a;
}

/* icon trong c·ªïng */
.lixi-symbols{
    position:absolute;
    top:55%;
    left:50%;
    transform:translate(-50%, -50%);
    font-size:32px;
    display:flex;
    gap:10px;
}
#lixi h2{
    text-align:center;
    margin-bottom:30px;
}


</style>
</head>

<body>

<!-- INTRO -->
<div class="screen" id="intro">
<div class="card">
<div class="intro-title">H√†nh Tr√¨nh L√¨ X√¨ Gi·∫•c M∆°</div>

<div class="story">
Ngo√†i kia, ph√°o hoa ƒë√£ b·∫Øt ƒë·∫ßu n·ªï t·ª´ng ch√πm s√°ng tr√™n b·∫ßu tr·ªùi ƒë√™m T·∫øt.  
√Çm thanh r·ªôn r√†ng vang kh·∫Øp x√≥m l√†ng, nh∆∞ng d∆∞·ªõi g·ªëc ƒë√†o gi√† ·ªü cu·ªëi con ƒë∆∞·ªùng nh·ªè, ch√∫ ng·ª±a con l·∫°c m·∫π ƒë√£ ng·ªß thi·∫øp ƒëi t·ª´ l√∫c n√†o.  

C√°nh ƒë√†o r∆°i l·∫£ t·∫£, ƒë·∫≠u l√™n b·ªùm, ph·ªß l√™n ƒë√¥i mi kh√©p h·ªù m·ªôt l·ªõp h·ªìng phai nh∆∞ t·∫•m chƒÉn m·ªèng c·ªßa m√πa xu√¢n.  
H∆°i th·ªü ch√∫ ƒë·ªÅu ƒë·ªÅu, nh·∫π ƒë·∫øn m·ª©c t∆∞·ªüng nh∆∞ gi√≥ c≈©ng kh√¥ng d√°m th·ªïi m·∫°nh.  

V√† r·ªìi gi·∫•c m∆° ƒë·∫øn.  
Kh√¥ng b√°o tr∆∞·ªõc. Kh√¥ng ti·∫øng ƒë·ªông.  
Ch·ªâ m·ªôt con ƒë∆∞·ªùng ƒë·ªè r·ª±c hi·ªán ra tr∆∞·ªõc m√≥ng ch√¢n ch√∫, d·∫´n ƒë·∫øn ch√≠n c√°nh c·ªïng l√¨ x√¨ kh·ªïng l·ªì‚Ä¶  

Mu·ªën t√¨m ƒë∆∞·ª£c m·∫π, ch√∫ ph·∫£i v∆∞·ª£t qua nƒÉm v√πng ƒë·∫•t c·ªßa gi·∫•c m∆°.
</div>

<button onclick="startGame()">B·∫Øt ƒë·∫ßu h√†nh tr√¨nh</button>
</div>
</div>

<!-- GAME -->
<div class="screen hidden" id="game">
<div class="card">
<h2 id="title"></h2>
<div class="region-name" id="regionName"></div>
<div class="region-story" id="regionStory"></div>

<p id="question"></p>
<div id="answers"></div>
<div class="symbols" id="symbols"></div>
</div>
</div>

<!-- LIXI -->
<div class="screen hidden" id="lixi">
<div class="card">
<h2>Ch·ªçn C·ªïng</h2>
<div id="gates"></div>
</div>
</div>

<script>
const regions = [
{
name:"V√πng ƒê·∫•t R·ªìng Th·ª©c Gi·∫•c",
story:"M·∫∑t ƒë·∫•t kh·∫Ω rung l√™n. Nh·ªØng b·ª©c t∆∞·ª£ng c·ªï x∆∞a n·ª©t ra t·ª´ng ƒë∆∞·ªùng s√°ng, nh∆∞ c√≥ th·ª© g√¨ ƒë√≥ ƒëang t·ªânh gi·∫•c sau gi·∫•c ng·ªß ng√†n nƒÉm.",
q:"Con gi√°p nƒÉm 2024 l√† g√¨?",
a:["Th√¨n","M√£o","T√Ω"],
c:0
},
{
name:"C√°nh ƒê·ªìng B√°nh Xanh",
story:"Nh·ªØng kh·ªëi vu√¥ng ph·ªß l√° xanh n·∫±m im l·∫∑ng gi·ªØa c√°nh ƒë·ªìng s∆∞∆°ng s·ªõm. H∆∞∆°ng th∆°m ·∫•m √°p lan t·ªèa nh∆∞ k√Ω ·ª©c c·ªßa nh·ªØng c√°i T·∫øt x∆∞a.",
q:"B√°nh ch∆∞ng t∆∞·ª£ng tr∆∞ng cho ƒëi·ªÅu g√¨?",
a:["Tr·ªùi","ƒê·∫•t","Bi·ªÉn"],
c:1
},
{
name:"Khu V∆∞·ªùn √Ånh Xu√¢n",
story:"M·ªôt khu v∆∞·ªùn r·ªông m·ªü tr∆∞·ªõc m·∫Øt, nh·ªØng c√°nh hoa rung rinh trong gi√≥ xu√¢n, t·ªèa ra th·ª© √°nh s√°ng d·ªãu d√†ng v√† ·∫•m √°p.",
q:"Hoa mi·ªÅn Nam n·ªü d·ªãp T·∫øt?",
a:["Mai","ƒê√†o","Sen"],
c:0
},
{
name:"Ng√¥i L√†ng B√¨nh Minh",
story:"Kh√≥i b·∫øp bay l√™n t·ª´ nh·ªØng m√°i nh√† nh·ªè. Ti·∫øng ng∆∞·ªùi g·ªçi nhau, ti·∫øng c∆∞·ªùi v√† nh·ªØng l·ªùi ƒë·∫ßu nƒÉm vang v·ªçng kh·∫Øp con ƒë∆∞·ªùng l√†ng.",
q:"Phong t·ª•c ƒë·∫ßu nƒÉm mang may m·∫Øn?",
a:["C√£i nhau","Ch√∫c T·∫øt","Ng·ªß c·∫£ ng√†y"],
c:1
},
{
name:"Kho B√°u Trong S∆∞∆°ng",
story:"Gi·ªØa l√†n s∆∞∆°ng m·ªù, m·ªôt chi·∫øc r∆∞∆°ng c·ªï ph√°t ra √°nh s√°ng ·∫•m √°p. B√™n trong l√† th·ª© khi·∫øn l√≤ng ng∆∞·ªùi c·∫£m th·∫•y ƒë·ªß ƒë·∫ßy v√† hy v·ªçng.",
q:"M√†u t∆∞·ª£ng tr∆∞ng cho t√†i l·ªôc?",
a:["ƒê·ªè","ƒêen","X√°m"],
c:0
}
];


const realSymbols = ["üêâ","üßß","üå∏","üéã","üí∞"];
const fakeSymbols = ["‚ò†Ô∏è","üëª","üï∑","üêç","üêé"];

let current=0;
let collected=[];
let realCollected=[];

function startGame(){
    intro.classList.add("hidden");
    game.classList.remove("hidden");
    showQuestion();
}

function showQuestion(){
    if(current>=regions.length){
        showLixi();
        return;
    }
    const r=regions[current];
    title.innerText="V√πng ƒë·∫•t "+(current+1);
    regionName.innerText=r.name;
    regionStory.innerText=r.story;
    question.innerText=r.q;

    answers.innerHTML="";
    r.a.forEach((ans,i)=>{
        let btn=document.createElement("button");
        btn.innerText=ans;
        btn.onclick=()=>answer(i);
        answers.appendChild(btn);
    });
}

function answer(choice){
    const r=regions[current];
    realCollected.push(realSymbols[current]);

    if(choice===r.c){
        collected.push(realSymbols[current]);
    }else{
        collected.push(realSymbols[current]);
        collected.push(fakeSymbols[current]);
    }
    current++;
    updateSymbols();
    showQuestion();
}

function updateSymbols(){
    symbols.innerHTML=collected.map(s=>"<span>"+s+"</span>").join("");
}

function showLixi(){
    game.classList.add("hidden");
    lixi.classList.remove("hidden");

    const gates=document.getElementById("gates");
    gates.innerHTML="";

    const correctCode = realCollected.join("");

    // Khu k√Ω hi·ªáu (·ªü tr√™n)
    let symbolBox=document.createElement("div");
    symbolBox.style.textAlign="center";
    symbolBox.style.marginBottom="40px";
    symbolBox.innerHTML=`
        <h3>K√Ω hi·ªáu b·∫°n ƒë√£ thu th·∫≠p</h3>
        <div class="symbols">
            ${collected.map(s=>"<span>"+s+"</span>").join("")}
        </div>
    `;
    gates.appendChild(symbolBox);

    // L∆∞·ªõi 3x3 b√™n d∆∞·ªõi
    let grid=document.createElement("div");
    grid.style.display="grid";
    grid.style.gridTemplateColumns="repeat(3, 1fr)";
    grid.style.gap="35px";
    grid.style.justifyItems="center";

    let gatesData=[];
    gatesData.push({code: correctCode, money: 200000});

    for(let i=1;i<9;i++){
        let code=[...realCollected];
        let mistakes=Math.floor(Math.random()*3)+1;
        for(let j=0;j<mistakes;j++){
            let idx=Math.floor(Math.random()*5);
            code[idx]=fakeSymbols[idx];
        }
        let correctCount = code.filter((s,i)=>s===realCollected[i]).length;
        let money = 50000 + correctCount*30000;
        gatesData.push({code: code.join(""), money: money});
    }

    gatesData.sort(()=>Math.random()-0.5);

    gatesData.forEach((g, index)=>{
        let div=document.createElement("div");
        div.className="lixi";

        div.innerHTML = `
            <div class="gate-number">C·ªïng ${index+1}</div>
            <div class="lixi-symbols">${g.code}</div>
        `;

        div.onclick=()=>showResult(g.money);
        grid.appendChild(div);
    });

    gates.appendChild(grid);
}


function showResult(money){
    lixi.classList.add("hidden");

    const result=document.createElement("div");
    result.className="screen";
    result.innerHTML=`
        <div class="card">
            <h2>Ch√∫c M·ª´ng NƒÉm M·ªõi</h2>
            <p>
            Ch√∫c b·∫°n m·ªôt nƒÉm m·ªõi b√¨nh an, 
            g·∫∑p nhi·ªÅu may m·∫Øn  
            v√† ƒë·∫°t ƒë∆∞·ª£c nhi·ªÅu th√†nh c√¥ng trong cu·ªôc s·ªëng nh√© <36
            </p>
            <h1 style="color:#818cf8;font-size:48px">${money.toLocaleString()} ƒë</h1>
        </div>
    `;
    document.body.appendChild(result);
}
</script>

</body>
</html>
